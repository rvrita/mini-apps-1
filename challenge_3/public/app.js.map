{"version":3,"sources":["../client/app.jsx"],"names":["user","id","Form1","props","state","valueName","valueEmail","valuePassword","handleInputChange","bind","e","preventDefault","name","target","setState","value","switchForm","formValue","email","password","React","Component","Form2","valueLine1","valueLine2","valueCity","valueState","valueZip","valuePhone","line1","line2","city","zip","phone","Form3","valueCreditCard","valueExpDate","valueCVV","valueBillingZip","ccard","expdate","cvv","bzip","CheckoutPage","CheckoutApp","data","fetch","method","headers","body","JSON","stringify","then","response","json","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"app.js","sourcesContent":["//saving the userId in a global obj\nvar user = {\n  id: 9999\n};\n\nclass Form1 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      valueName: '',\n      valueEmail: '',\n      valuePassword: ''\n    }\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  // updates the value of the input field in the state\n  handleInputChange(e) {\n    e.preventDefault();\n    var name = e.target.name;\n    this.setState({ [name]: e.target.value });\n  }\n\n  render() {\n    return (\n      <div>\n        <p className=\"text\">Please provide name, email and password:</p>\n        <form onSubmit={(e) => {\n          this.props.switchForm({\n            formValue: this.props.formValue,\n            name: this.state.valueName,\n            email: this.state.valueEmail,\n            password: this.state.valuePassword\n          })\n        }} >\n          <label>\n            Name: <input type=\"text\" value={this.state.valueName} name=\"valueName\" onChange={this.handleInputChange} required/>\n          </label>\n          <label>\n            Email: <input type=\"email\" value={this.state.valueEmail} name=\"valueEmail\" onChange={this.handleInputChange} required/>\n          </label>\n          <label>\n            Password: <input type=\"password\" value={this.state.valuePassword} name=\"valuePassword\" onChange={this.handleInputChange} required/>\n          </label>\n          <input type=\"submit\" value=\"Next\" />\n        </form>\n      </div>\n    )\n  }\n\n};\n\nclass Form2 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      valueLine1: '',\n      valueLine2: '',\n      valueCity: '',\n      valueState: '',\n      valueZip: '',\n      valuePhone: ''\n    }\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  // updates the value of the input field in the state\n  handleInputChange(e) {\n    e.preventDefault();\n    var name = e.target.name;\n    this.setState({ [name]: e.target.value });\n  }\n\n  render() {\n    return (\n      <div>\n        <p className=\"text\">Please provide address and phone number:</p>\n        <form onSubmit={(e) => {\n          this.props.switchForm({\n            line1: this.state.valueLine1,\n            line2: this.state.valueLine2,\n            city: this.state.valueCity,\n            state: this.state.valueState,\n            zip: this.state.valueZip,\n            phone: this.state.valuePhone,\n            formValue: this.props.formValue\n          })\n        }}>\n          <label>\n            Address: <input type=\"text\" value={this.state.valueLine1} name=\"valueLine1\" onChange={this.handleInputChange} required/>\n          </label>\n          <label>\n            <input type=\"text\" value={this.state.valueLine2} name=\"valueLine2\" onChange={this.handleInputChange} />\n          </label>\n          <label>\n            City: <input type=\"text\" value={this.state.valueCity} name=\"valueCity\" onChange={this.handleInputChange} required/>\n          </label>\n          <label>\n            State: <input type=\"text\" value={this.state.valueState} name=\"valueState\" onChange={this.handleInputChange} required/>\n          </label>\n          <label>\n            Zip code: <input type=\"number\" value={this.state.valueZip} name=\"valueZip\" onChange={this.handleInputChange} required/>\n          </label>\n          <label>\n            Phone number: <input type=\"number\" value={this.state.valuePhone} name=\"valuePhone\" onChange={this.handleInputChange} required/>\n          </label>\n          <input type=\"submit\" value=\"Next\" />\n        </form>\n      </div>\n    )\n  }\n\n};\n\nclass Form3 extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      valueCreditCard: '',\n      valueExpDate: '',\n      valueCVV: '',\n      valueBillingZip: ''\n    }\n    this.handleInputChange = this.handleInputChange.bind(this);\n  }\n\n  // updates the value of the input field in the state\n  handleInputChange(e) {\n    e.preventDefault();\n    var name = e.target.name;\n    this.setState({ [name]: e.target.value });\n  }\n\n  render() {\n    return (\n      <div>\n        <p className=\"text\">Please provide credit card information:</p>\n        <form onSubmit={(e) => this.props.switchForm({\n          ccard: this.state.valueCreditCard,\n          expdate: this.state.valueExpDate,\n          cvv: this.state.valueCVV,\n          bzip: this.state.valueBillingZip,\n          formValue: this.props.formValue\n        })}>\n          <label>\n            Credit Card number: <input type=\"number\" value={this.state.valueCreditCard} name=\"valueCreditCard\" onChange={this.handleInputChange} required/>\n          </label>\n          <label>\n            Expiration Date (yyyy-mm-dd): <input type=\"text\" value={this.state.valueExpDate} name=\"valueExpDate\" onChange={this.handleInputChange} required/>\n          </label>\n          <label>\n            CVV: <input type=\"number\" value={this.state.valueCVV} name=\"valueCVV\" onChange={this.handleInputChange} required/>\n          </label>\n          <label>\n            Billing zip code: <input type=\"number\" value={this.state.valueBillingZip} name=\"valueBillingZip\" onChange={this.handleInputChange} required/>\n          </label>\n          <input type=\"submit\" value=\"Purchase\" />\n        </form>\n      </div>\n    )\n  }\n};\n\nclass CheckoutPage extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div>\n        <h1>Welcome to checkout app!</h1>\n        <p className=\"main-page\">Please click on the button.</p>\n        <button onClick={(e) => this.props.switchForm({ formValue: this.props.formValue })}>\n          Checkout\n        </button>\n      </div>\n    );\n  }\n\n};\n\nclass CheckoutApp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formValue: props.formValue\n    }\n    this.switchForm = this.switchForm.bind(this);\n  }\n\n  switchForm(data) {\n    if (user.id !== 9999) {\n      data.id = user.id;\n    }\n    fetch('/checkout', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data) \n      })\n      .then(response => response.json())\n      .then(data => { console.log('resp', data); return data; })\n      .then(data => { user.id = data.id; console.log('user', user.id) });\n\n    this.setState({\n      formValue: data.formValue\n    });\n  }\n\n  render() {\n    if (this.state.formValue === 0) {\n      return <CheckoutPage formValue={1} switchForm={this.switchForm} />;\n    } else if (this.state.formValue === 1) {\n      return <Form1 formValue={2} switchForm={this.switchForm} />;\n    } else if (this.state.formValue === 2) {\n      return <Form2 formValue={3} switchForm={this.switchForm} />;\n    } else if (this.state.formValue === 3) {\n      return <Form3 formValue={0} switchForm={this.switchForm} />;\n    }\n  }\n\n};\n\nReactDOM.render(\n  <CheckoutApp formValue={0} />,\n  document.getElementById('app')\n);"]}